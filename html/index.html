<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

        <title>Adobe SDK Sandbox</title>

        <link rel="stylesheet" href="stylesheets/style.css">
    </head>
    <body>

        <div class="canvas">

            <img id="editableimage1" src="https://images.unsplash.com/photo-1444703686981-a3abbc4d4fe3?ixlib=rb-0.3.5&q=80&fm=jpg&s=ea7623efb1f5115a216e43130cf1f524" />

            <!-- Add an edit button, passing the HTML id of the image
                and the public URL to the image -->
            <a href="#" onclick="return launchEditor('editableimage1',
                'https://images.unsplash.com/photo-1444703686981-a3abbc4d4fe3?ixlib=rb-0.3.5&q=80&fm=jpg&s=ea7623efb1f5115a216e43130cf1f524');">Edit</a>


        </div>

        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="/js/vendor/jquery.js"><\/script>')</script>
        <script src="js/plugins.js"></script>
        <script src="js/main.js"></script>

        <script>

            var featherEditor = new Aviary.Feather({
                apiKey: clientSecret,
                onSave: function(imageID, newURL) {
                    console.log("saving");
                    var img = document.getElementById(imageID);
                    img.src = newURL;
                    console.log(img);
                },
                onError: function(errorObj){
                    console.log(errorObj);
                }
            });

            function launchEditor(id, src) {
                featherEditor.launch({
                    image: id,
                    url: src
                });
                return false;
            }

        </script>


    </body>
</html>
